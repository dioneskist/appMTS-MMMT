<GerenciadorDeTelas>
    Menu:
        name: 'menu'
    TelaTT:
        name: 'telatt'
    TelaInstrucoes:
        name: 'instrucoes'
    TelaNomeParticipante:
        name: 'participante'

<Screen>
    on_leave: app.previous_screen = self.name

<MyBoxLayout@BoxLayout>:
    padding: 100
    spacing: 45
    orientation: 'vertical'

<MyButton@Button>:
    font_size: 35

<LabelAcertos1@Label>:
    font_size: 25
    pos_hint: {'center_x': 0.35, 'center_y': 0.98}
<LabelAcertos2@Label>:
    font_size: 25
    pos_hint: {'center_x': 0.65, 'center_y': 0.98}
<LabelErros1@Label>:
    font_size: 25
    pos_hint: {'center_x': 0.35, 'center_y': 0.95}
<LabelErros2@Label>:
    font_size: 25
    pos_hint: {'center_x': 0.65, 'center_y': 0.95}
<LabelTempoTotal@Label>:
    font_size: 25
    pos_hint: {'center_x': 0.65, 'center_y': 0.90}
<Smile@Image>:
    size: 225, 225
    fit_mode: 'cover'
    source: ''
    size_hint_x: None
    size_hint_y: None

<Menu>:
    MyBoxLayout:
        MyButton:
            text: 'Ordem 1'
            font_size: 40
            on_release:
                root.manager.ordem = 'ordem1'
                root.manager.current = 'telatt'
                root.manager.transition.direction = 'left'
        MyButton:
            text: 'Ordem 2'
            on_release:
                root.manager.ordem = 'ordem2'
                root.manager.current = 'telatt'
                root.manager.transition.direction = 'left'
        MyButton:
            text: 'Teste'
            on_release:
                root.manager.ordem = 'teste'
                root.manager.current = 'telatt'
                root.manager.transition.direction = 'left'
        MyButton:
            text: 'Sair'
            on_release: app.stop()

<TelaTT>:
    MyBoxLayout:
        MyButton:
            text: 'TR AB/DE'
            on_release:
                root.manager.letters = 'TR AB/DE'
                root.manager.current = 'participante'
                root.manager.transition.direction = 'left'
        MyButton:
            text: 'TR BC/EF'
            on_release:
                root.manager.letters = 'TR BC/EF'
                root.manager.current = 'participante'
                root.manager.transition.direction = 'left'
        MyButton:
            text: 'TR Misto'
            on_release:
                root.manager.current = 'participante'
                root.manager.transition.direction = 'left'
        MyButton:
            text: 'TT BA/ED'
            on_release:
                root.manager.current = 'participante'
                root.manager.transition.direction = 'left'
        MyButton:
            text: 'TT CB/EF'
            on_release:
                root.manager.current = 'participante'
                root.manager.transition.direction = 'left'
        MyButton:
            text: 'TT AC/DF'
            on_release:
                root.manager.current = 'participante'
                root.manager.transition.direction = 'left'
        MyButton:
            text: 'TT AC/FD'
            on_release:
                root.manager.current = 'participante'
                root.manager.transition.direction = 'left'
        MyButton:
            text: 'Voltar'
            on_release:
                root.manager.current = 'menu'
                root.manager.transition.direction = 'right'

<TelaInstrucoes>:
    MyBoxLayout:
        Label:
            id: _instrucoes
            text: 'Instruções serão escritas aqui'
            size_hint_y: None
            height: self.texture_size[1]
            text_size: self.width, None
            color: 0,0,0,1
        MyButton:
            text: 'Iniciar'
            size_hint_y: None
            on_release:
                root.manager.iniciar_treinos()
                root.manager.transition.direction = 'left'

<TelaNomeParticipante>:
    MyBoxLayout:
        Label:
            text: 'Nome do avaliado'
            font_size: 25
        TextInput:
            id:  _input
            text: ''
            font_size: 45
        MyButton:
            text: 'Próximo'
            on_release:
                root.manager.current = 'instrucoes'
                root.manager.transition.direction = 'left'
        MyButton:
            text: 'Voltar'
            on_release:
                root.manager.current = 'telatt'
                root.manager.transition.direction = 'right'

<TelaTreinoAB>:
    targetPictures: [_t1, _t2, _t3]
    LabelAcertos1:
        text: app.root.acertos_total_str
    LabelAcertos2:
        text: app.root.latencia_acerto_str
    LabelTempoTotal:
        text: app.root.tempo_decorrido_str
    LabelErros1:
        text: app.root.erros_total_str
    LabelErros2:
        text: app.root.latencia_erro_str
    Smile:
        id: _smile1
        pos: 555, 207
    Smile:
        id: _smile2
        pos: 555, 847
    Smile:
        id: _smile3
        pos: 555, 1487
    TargetPicture:
        id: _t1
        wid: 'wid-t1'
        pos: 800, 200
        size: 320, 240
        size_hint_x: None
        size_hint_y: None
        canvas.before:
            Color:
                rgb: self.rbgcolor
            Rectangle:
                pos: self.pos
                size: self.size
        Imagem:
            id: _ti1
            wid: 'wid-ti1'
            source: self._imagem
            pos: self.parent.pos[0] + ((self.parent.width - self.width) / 2 ), self.parent.pos[1] + ((self.parent.height - self.height) / 2 )
            size: self.parent.width * 0.90, self.parent.height * 0.90
            fit_mode: 'fill'
    TargetPicture:
        id: _t2
        wid: 'wid-t2'
        pos: 800, 840
        size: 320, 240
        size_hint_x: None
        size_hint_y: None
        canvas.before:
            Color:
                rgb: self.rbgcolor
            Rectangle:
                pos: self.pos
                size: self.size
        Imagem:
            id: _ti2
            wid: 'wid-ti2'
            source: self._imagem
            pos: self.parent.pos[0] + ((self.parent.width - self.width) / 2 ), self.parent.pos[1] + ((self.parent.height - self.height) / 2 )
            size: self.parent.width * 0.90, self.parent.height * 0.90
            fit_mode: 'fill'
    TargetPicture:
        id: _t3
        wid: 'wid-t3'
        pos: 800, 1480
        size: 320, 240
        size_hint_x: None
        size_hint_y: None
        canvas.before:
            Color:
                rgb: self.rbgcolor
            Rectangle:
                pos: self.pos
                size: self.size
        Imagem:
            id: _ti3
            wid: 'wid-ti3'
            source: self._imagem
            pos: self.parent.pos[0] + ((self.parent.width - self.width) / 2 ), self.parent.pos[1] + ((self.parent.height - self.height) / 2 )
            size: self.parent.width * 0.90, self.parent.height * 0.90
            fit_mode: 'fill'
    SourcePicture:
        id: _s1
        wid: 'wid-s1'
        pos: 80, 200
        size: 320, 240
        size_hint_x: None
        size_hint_y: None
        Imagem:
            id: _si1
            wid: 'wid-si1'
            source: self._imagem
            pos: self.parent.pos[0] + ((self.parent.width - self.width) / 2 ), self.parent.pos[1] + ((self.parent.height - self.height) / 2 )
            size: self.parent.width * 0.90, self.parent.height * 0.90
            fit_mode: 'fill'
    SourcePicture:
        id: _s2
        wid: 'wid-s2'
        pos: 80, 840
        size: 320, 240
        size_hint_x: None
        size_hint_y: None
        Imagem:
            id: _si2
            wid: 'wid-si2'
            source: self._imagem
            pos: self.parent.pos[0] + ((self.parent.width - self.width) / 2 ), self.parent.pos[1] + ((self.parent.height - self.height) / 2 )
            size: self.parent.width * 0.90, self.parent.height * 0.90
            fit_mode: 'fill'
    SourcePicture:
        id: _s3
        wid: 'wid-s3'
        pos: 80, 1480
        size: 320, 240
        size_hint_x: None
        size_hint_y: None
        Imagem:
            id: _si3
            wid: 'wid-si3'
            source: self._imagem
            pos: self.parent.pos[0] + ((self.parent.width - self.width) / 2 ), self.parent.pos[1] + ((self.parent.height - self.height) / 2 )
            size: self.parent.width * 0.90, self.parent.height * 0.90
            fit_mode: 'fill'


<TelaTreinoDE>:
    targetPictures: [_t1]
    LabelAcertos1:
        text: app.root.acertos_total_str
    LabelAcertos2:
        text: app.root.latencia_acerto_str
    LabelTempoTotal:
        text: app.root.tempo_decorrido_str
    LabelErros1:
        text: app.root.erros_total_str
    LabelErros2:
        text: app.root.latencia_erro_str
    Smile:
        id: _smile1
        pos: 555, 847
    TargetPicture:
        id: _t1
        wid: 'wid-t1'
        pos: 800, 840
        size: 320, 240
        size_hint_x: None
        size_hint_y: None
        canvas.before:
            Color:
                rgb: self.rbgcolor
            Rectangle:
                pos: self.pos
                size: self.size
        Imagem:
            id: _ti1
            wid: 'wid-ti1'
            source: self._imagem
            pos: self.parent.pos[0] + ((self.parent.width - self.width) / 2 ), self.parent.pos[1] + ((self.parent.height - self.height) / 2 )
            size: self.parent.width * 0.90, self.parent.height * 0.90
            fit_mode: 'fill'
    SourcePicture:
        id: _s1
        wid: 'wid-s1'
        pos: 80, 200
        size: 320, 240
        size_hint_x: None
        size_hint_y: None
        canvas.before:
            Color:
                rgb: self.rbgcolor
            Rectangle:
                pos: self.pos
                size: self.size
        Imagem:
            id: _si1
            wid: 'wid-si1'
            source: self._imagem
            pos: self.parent.pos[0] + ((self.parent.width - self.width) / 2 ), self.parent.pos[1] + ((self.parent.height - self.height) / 2 )
            size: self.parent.width * 0.90, self.parent.height * 0.90
            fit_mode: 'fill'
    SourcePicture:
        id: _s2
        wid: 'wid-s2'
        pos: 80, 840
        size: 320, 240
        size_hint_x: None
        size_hint_y: None
        canvas.before:
            Color:
                rgb: self.rbgcolor
            Rectangle:
                pos: self.pos
                size: self.size
        Imagem:
            id: _si2
            wid: 'wid-si2'
            source: self._imagem
            pos: self.parent.pos[0] + ((self.parent.width - self.width) / 2 ), self.parent.pos[1] + ((self.parent.height - self.height) / 2 )
            size: self.parent.width * 0.90, self.parent.height * 0.90
            fit_mode: 'fill'
    SourcePicture:
        id: _s3
        wid: 'wid-s3'
        pos: 80, 1480
        size: 320, 240
        size_hint_x: None
        size_hint_y: None
        canvas.before:
            Color:
                rgb: self.rbgcolor
            Rectangle:
                pos: self.pos
                size: self.size
        Imagem:
            id: _si3
            wid: 'wid-si3'
            source: self._imagem
            size: self.parent.width * 0.90, self.parent.height * 0.90
            pos: self.parent.pos[0] + ((self.parent.width - self.width) / 2 ), self.parent.pos[1] + ((self.parent.height - self.height) / 2 )
            fit_mode: 'fill'

<TelaFinal>:
    MyBoxLayout:
        Label:
            id: text
            text: 'Teste finalizado!'
        MyButton:
            text: 'Voltar ao Início'
            on_release:
                root.manager.reiniciar_app()

        MyButton:
            text: 'Sair'
            on_release: app.stop()